{% extends "quotes/base.html" %}

{% block title %}å¼•ç”¨ã®è©³ç´° - PEIPEIã®å¼•ç”¨{% endblock %}

{% block content %}
<nav class="text-xl text-gray-300 my-3 ms-5">
  <a href="{% url 'quotes:index' %}" class="hover:text-white">ãƒ›ãƒ¼ãƒ </a>
  <span class="mx-2">/</span>
  <span class="">{{ quote.content|truncatechars:25 }} </span>
</nav>
<div class="grid grid-cols-1max-w-2xl text-sm text-gray-600">
  <!-- ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ -->
  <article class="px-auto mx-auto max-w-xl bg-white rounded round-lg shadow-lg hover:shadow-xl transition-shadow duration-300 overflow-hidden">
  <!-- Header éƒ¨åˆ†-->
    <div class="bg-gradient-to-r from-blue-500 to-purple-500 text-white p-8 ">
      <h1 class="text-2xl font-bold mb-4">ã€Œ{{ quote.book.title }}ã€ - {{ quote.book.author }} {{ quote.page|default:"æœªå®š"}}ãƒšãƒ¼ã‚¸ ã‚ˆã‚Š</h1>
      <div class="flex items-center">
      <span>ğŸ“… {{ quote.created_at|date:"Yå¹´mæœˆdæ—¥ H:i" }}</span>
      {% if quote.updated_at != quote.created_at %}
        <span>ğŸ”„ æ›´æ–°:{{ quote.updated_at|date:"Yå¹´mæœˆdæ—¥ H:i"}}</span>
      {% endif %}
      </div>
    </div>
  <!-- æœ¬æ–‡ -->
    <div class="p-8">
      <div class="prose prose-lg max-w-none text-gray-800 leading-relaxed break-words">
      <h3 class="text-2xl">
      {{ quote.content }}
      </h3>
      <div class="book_info text-lg text-right">
        <a class="text-green-500 hover-text-green-400" href="{{ quote.book.url }}">æœ¬ã®ãƒªãƒ³ã‚¯</a>
      </div>
      </div>
      <!-- ãƒ•ã‚©ãƒ­ãƒ¼ãƒœã‚¿ãƒ³ -->
      {% if quote.user in connection.0.follow.all %}
      <a href="{% url 'quotes:follow-detail' quote.user.pk %}" class="bg-red-500 hover:bg-red-400 rounded">ãƒ•ã‚©ãƒ­ãƒ¼è§£é™¤</a>
      {% else %}
      <a href="{% url 'quotes:follow-detail' quote.user.pk %}" class="br-green-500 hover:bg-green-400 rounded">ãƒ•ã‚©ãƒ­ãƒ¼</a>
      {% endif %}
    </div>
  <!-- ã„ã„ã­ãƒœã‚¿ãƒ³ -->
    <div class="reaction flex justify-end mb-4 mx-4 gap-x-1">
      
      <span class="good-count bg-white text-red-500 hover:bg-pink-200 px-4 py-2 rounded-lg">â¤ 0</span>
      <button class="good-btn bg-pink-400 text-white hover:bg-pink-300 px-4 py-2 rounded-lg">ã„ã„ã­</button>
    </div>

    <!-- ãƒ•ãƒƒã‚¿ãƒ¼éƒ¨åˆ†-->
    <div class="bg-gray-50 px-8 py-6 border-t flex justify-between">
      <a href="{% url 'quotes:index' %}" class="text-lg inline-flex items-center text-blue-600 hover:text-blue-800 font-semibold">
        <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
        </svg>
        å¼•ç”¨ä¸€è¦§ã«æˆ»ã‚‹
      </a>
      {% if user.is_authenticated and user.username == quote.user.username %}
      <div class="edit-delete">
          <div class="flex">
            <a href="{% url 'quotes:edit' quote.pk %}" class="bg-yellow-500 text-white px-6 py-3 rounded-lg hover:bg-yellow-600 font-bold">âœï¸ç·¨é›†</a>
            <a href="{% url 'quotes:delete' quote.pk %}" class="bg-red-500 text-white px-6 py-3 rounded-lg hover:bg-red-600 ml-1">ğŸ—‘ï¸å‰Šé™¤</a>
          </div>
      </div>
      {% endif %}
    </div>
  </article>
</div> 
{% endblock %}
    